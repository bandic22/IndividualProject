<div class="row">
    <div class="col-md-12">
        <h1 class="text-center">My Profile</h1>
    </div>
</div>

<div class="row">
    <div class="col-md-6 col-md-offset-3 myTable" id="profileTable">
        <table class="table table-condensed table-responsive">
            <tr ng-hide="!vm.userProfileInfo.isAuthorized">
                <td>First Name</td>
                <td id="profileUserDetail">{{vm.userProfileInfo.firstName}}</td>
            </tr>
            <tr ng-hide="!vm.userProfileInfo.isAuthorized">
                <td>Last Name</td>
                <td id="profileUserDetail">{{vm.userProfileInfo.lastName}}</td>
            </tr>
            <tr>
                <td>User Name</td>
                <td id="profileUserDetail">{{vm.userProfileInfo.displayName}}</td> <!--Create a details page for editing user info in the profile -->
            </tr>
            <tr ng-hide="!vm.userProfileInfo.isAuthorized">
                <td>Email Address</td>
                <td id="profileUserDetail">{{vm.userProfileInfo.email}}</td>
            </tr>
        </table>
        <!--<button class="btn btn-primary" ng-click="vm.editProfile()">Edit Details</button>-->
    </div>
</div>

<div class="row">
    <div class="col-md-6 col-md-offset-3 myTable" id="gearTable">
        <h2 class="text-center">My Gear</h2>
        <table class="table table-condensed table-responsive">
            <tr ng-repeat="gear in vm.userProfileInfo.userGear">
                <td><a href="/gearDetails/{{gear.id}}">{{gear.title}}</a></td>
                <td><button ng-hide="!vm.userProfileInfo.isAuthorized" class="btn btn-danger myTableBtn" ng-click="vm.deleteGear(gear.id)">Delete</button><a class="btn btn-primary myTableBtn" ng-hide="!vm.userProfileInfo.isAuthorized" href="/editGear/{{gear.id}}">Edit</a></td>
            </tr>
        </table>
        <a class="btn btn-primary" href="/addGear" ng-hide="!vm.userProfileInfo.isAuthorized">Add gear</a>
    </div>
</div>

<div class="row">
    <div class="col-md-6 col-md-offset-3 myTable" id="spaceTable">
        <h2 class="text-center">My Space</h2>
        <table class="table table-condensed table-responsive">
            <tr>
                <td><a href="/spaceDetails/{{vm.userProfileInfo.userSpace.id}}">{{vm.userProfileInfo.userSpace.title}}</a><a class="btn btn-primary myTableBtn" ng-hide="!vm.userProfileInfo.isAuthorized || !vm.userProfileInfo.userSpace" href="/editSpace/{{vm.userProfileInfo.userSpace.id}}">Edit space info</a></td>
            </tr>
        </table>        
        <a class="btn btn-primary" ng-hide="!vm.userProfileInfo.isAuthorized || vm.userProfileInfo.userSpace" href="/addSpace">Add your space</a>         
        <img id="spaceImage" ng-hide="!vm.userProfileInfo.userSpace.fileUrl" ng-src="{{vm.userProfileInfo.userSpace.fileUrl}}" /> 
    </div>
</div>

<div class="row">
    <div class="col-md-10 col-md-offset-1 myTable" id="profilePostList">
        <h2 class="text-center">My requests</h2>
        <table class="table table-responsive">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Date Created</th>
                    <th>Replies</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="request in vm.userProfileInfo.requests">
                    <td><a href="/details/{{request.id}}">{{request.title}}</a></td>
                    <td>{{request.dateCreated}}</td>
                    <td>{{request.noOfReplies}}</td>
                    <td><a class="btn btn-primary" ng-hide="!vm.userProfileInfo.isAuthorized" href="/editRequest/{{request.id}}">Edit</a><button class="btn btn-danger" ng-click="vm.deleteRequest(request.id)" ng-hide="!vm.userProfileInfo.isAuthorized">Delete</button></td>
                </tr>
            </tbody>
        </table>
        <a class="btn btn-primary" href="/addRequest" ng-hide="!vm.userProfileInfo.isAuthorized">Add new request</a>        
    </div>
</div>

